@model DuAnThucTap_vs.Models.Category
@{
    ViewData["Title"] = Model.CategoryName;
}

@section Styles {
    <link rel="stylesheet" href="~/assets/css/detail.css" asp-append-version="true" />
}


<div class="app">

    <!-- BANNER -->
    <section class="category-banner">
        <div class="banner-overlay"></div>
        <div class="banner-content">
            <h1>@Model.CategoryName</h1>
            
        </div>
    </section>

    <!-- CONTENT -->
    <main class="product-category">
        <div class="container">

            <!-- FILTER (optional – tạm để UI) -->
            <div class="category-filter">
                <button class="active" data-filter="all">Tất cả</button>

                @foreach (var b in Model.Products
                                .Where(p => p.Brand != null)
                                .Select(p => p.Brand)
                                .GroupBy(b => b.BrandId)
                                .Select(g => g.First()))
                {
                    <button data-filter="@b.BrandId">
                        @b.BrandName
                    </button>
                }

            </div>

            <!-- GRID -->
            <section class="products">
                <div class="products-container">
                    <div class="product-grid">

                        @foreach (var p in Model.Products)
                        {
                            <div class="product-card"
                                 data-category="@p.BrandId">

                                <div class="product-image">
                                    <img src="~/assets/img/@p.ImageUrl"
                                         alt="@p.ProductName" />

                                    <span class="brand-tag">
                                        @p.Brand.BrandName
                                    </span>
                                </div>

                                <div class="product-content">
                                    <h3>@p.ProductName</h3>

                                    <p class="product-meta">
                                        @Model.CategoryName
                                    </p>

                                    <a href="/Product/Detail/@p.ProductId"
                                       class="btn-detail">
                                        Xem chi tiết
                                        <i class="fa-solid fa-arrow-right"></i>
                                    </a>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </section>

        </div>
    </main>

</div>

